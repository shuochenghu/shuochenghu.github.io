"""
Translation module for the stock analysis application
"""

# Dictionary containing translations for different languages
TRANSLATIONS = {
    'en': {  # English (default)
        'app_title': 'ğŸ“ˆ Stock Analysis Platform',
        'app_subtitle': 'Compare multiple stocks with charts, financial data, and technical indicators',
        'settings': 'Settings',
        'language': 'Language',
        'enter_symbols': 'Enter stock symbols (comma-separated)',
        'symbols_help': 'Example: AAPL,MSFT,GOOGL or 2330.TW,3008.TW for Taiwan stocks',
        'time_period': 'Select time period',
        'interval': 'Select interval',
        'tech_indicators': 'Technical Indicators',
        'sma': 'Simple Moving Average (SMA)',
        'ema': 'Exponential Moving Average (EMA)',
        'rsi': 'Relative Strength Index (RSI)',
        'macd': 'MACD',
        'bollinger': 'Bollinger Bands',
        'period': 'Period',
        'std_dev': 'Standard Deviation',
        'price_comparison': 'Price Comparison',
        'financial_data': 'Financial Data',
        'tech_analysis': 'Technical Analysis',
        'raw_data': 'Raw Data',
        'favorites': 'Favorites',
        'add_to_favorites': 'Add to Favorites',
        'remove_from_favorites': 'Remove from Favorites',
        'favorite_stocks': 'Favorite Stocks',
        'no_favorites': 'No favorite stocks yet. Add some stocks to your favorites!',
        'loading_data': 'Loading data for {}...',
        'no_data': 'No data available for {}. Please check the symbol.',
        'error_fetching': 'Error fetching data for {}: {}',
        'current_price': 'Current Price',
        'change': 'Change',
        'pct_change': 'Percentage Change',
        'pct_change_period': 'Percentage Change Since Start of Period',
        'price_with_indicators': '{} Price with Indicators',
        'volume': 'Volume',
        'select_stock': 'Select stock for technical analysis',
        'download': 'Download {} data as CSV',
        'download_all': 'Download All Stock Data as CSV',
        'enter_to_start': 'Enter stock symbols in the sidebar to get started.',
        'valid_symbol': 'Please enter at least one valid stock symbol.',
        'compare_stocks': 'Stock Price Comparison',
        'date': 'Date',
        'price_usd': 'Price (USD)',
        'stocks': 'Stocks',
        'financial_comparison': 'Financial Data Comparison',
        'company_name': 'Company Name',
        'market_cap': 'Market Cap',
        'pe_ratio': 'P/E Ratio',
        'forward_pe': 'Forward P/E',
        'peg_ratio': 'PEG Ratio',
        'dividend_yield': 'Dividend Yield (%)',
        'week_high': '52 Week High',
        'week_low': '52 Week Low',
        'day_ma_50': '50-Day MA',
        'day_ma_200': '200-Day MA',
        'revenue': 'Revenue',
        'profit_margin': 'Profit Margin (%)',
        'roe': 'Return on Equity (%)',
        'roa': 'Return on Assets (%)',
        'total_debt': 'Total Debt',
        'total_cash': 'Total Cash',
        'free_cash_flow': 'Free Cash Flow',
        'market_selection': 'Market Selection',
        'us_market': 'US Market',
        'tw_market': 'Taiwan Market',
        'currency_usd': 'USD',
        'currency_twd': 'TWD',
        'price_currency': 'Price ({})',
        'stock_market': 'Stock Market',
        'download_data': 'Download Data',
        'loading': 'Loading...',
        'days': 'days',
        'weeks': 'weeks',
        'months': 'months',
        'years': 'years',
        # AI Price Prediction
        'predictions': 'AI Price Predictions',
        'prediction_title': 'Stock Price Predictions',
        'prediction_intro': 'AI-based price predictions for the next 30 days',
        'predict_button': 'Generate Prediction',
        'prediction_loading': 'Generating prediction, please wait...',
        'prediction_error': 'Error generating prediction: {}',
        'predicted_price': 'Predicted Price (30 days)',
        'predicted_change': 'Predicted Change',
        'prediction_confidence': 'Confidence Score',
        'predicted_trend': 'Predicted Trend',
        'trend_up': 'Upward â†‘',
        'trend_down': 'Downward â†“',
        'trend_sideways': 'Sideways â†’',
        # Portfolio
        'portfolio': 'Portfolio',
        'portfolio_dashboard': 'Portfolio Dashboard',
        'my_portfolios': 'My Portfolios',
        'create_portfolio': 'Create New Portfolio',
        'portfolio_name': 'Portfolio Name',
        'portfolio_description': 'Description (optional)',
        'create': 'Create',
        'delete': 'Delete',
        'view': 'View',
        'portfolio_details': 'Portfolio Details',
        'add_stock': 'Add Stock',
        'edit_stock': 'Edit Stock',
        'remove_stock': 'Remove Stock',
        'shares': 'Shares',
        'purchase_price': 'Purchase Price',
        'purchase_date': 'Purchase Date',
        'notes': 'Notes',
        'save': 'Save',
        'cancel': 'Cancel',
        'current_holdings': 'Current Holdings',
        'symbol': 'Symbol',
        'quantity': 'Quantity',
        'market_value': 'Market Value',
        'profit_loss': 'Profit/Loss',
        'profit_loss_percent': 'P/L %',
        'total_value': 'Total Portfolio Value',
        'total_cost': 'Total Cost',
        'total_profit_loss': 'Total Profit/Loss',
        'allocation': 'Portfolio Allocation',
        'back_to_portfolios': 'Back to Portfolios',
        'no_portfolios': 'You haven\'t created any portfolios yet.',
        'no_stocks': 'No stocks in this portfolio. Add some stocks to get started.',
        'confirm_delete': 'Are you sure you want to delete this portfolio?',
        'yes': 'Yes',
        'no': 'No',
    },
    'zh-tw': {  # Traditional Chinese
        'app_title': 'ğŸ“ˆ è‚¡ç¥¨åˆ†æå¹³å°',
        'app_subtitle': 'æ¯”è¼ƒå¤šæ”¯è‚¡ç¥¨çš„åœ–è¡¨ã€è²¡å‹™æ•¸æ“šå’ŒæŠ€è¡“æŒ‡æ¨™',
        'settings': 'è¨­å®š',
        'language': 'èªè¨€',
        'enter_symbols': 'è¼¸å…¥è‚¡ç¥¨ä»£ç¢¼ï¼ˆä»¥é€—è™Ÿåˆ†éš”ï¼‰',
        'symbols_help': 'ç¯„ä¾‹ï¼šAAPL,MSFT,GOOGL æˆ–å°ç£è‚¡ç¥¨ 2330.TW,3008.TW',
        'time_period': 'é¸æ“‡æ™‚é–“ç¯„åœ',
        'interval': 'é¸æ“‡é–“éš”',
        'tech_indicators': 'æŠ€è¡“æŒ‡æ¨™',
        'sma': 'ç°¡å–®ç§»å‹•å¹³å‡ç·š (SMA)',
        'ema': 'æŒ‡æ•¸ç§»å‹•å¹³å‡ç·š (EMA)',
        'rsi': 'ç›¸å°å¼·å¼±æŒ‡æ•¸ (RSI)',
        'macd': 'MACDæŒ‡æ¨™',
        'bollinger': 'å¸ƒæ—å¸¶',
        'period': 'é€±æœŸ',
        'std_dev': 'æ¨™æº–å·®',
        'price_comparison': 'åƒ¹æ ¼æ¯”è¼ƒ',
        'financial_data': 'è²¡å‹™æ•¸æ“š',
        'tech_analysis': 'æŠ€è¡“åˆ†æ',
        'raw_data': 'åŸå§‹æ•¸æ“š',
        'favorites': 'æ”¶è—',
        'add_to_favorites': 'åŠ å…¥æ”¶è—',
        'remove_from_favorites': 'ç§»é™¤æ”¶è—',
        'favorite_stocks': 'æ”¶è—çš„è‚¡ç¥¨',
        'no_favorites': 'å°šæœªæœ‰æ”¶è—çš„è‚¡ç¥¨ã€‚è«‹å°‡ä¸€äº›è‚¡ç¥¨åŠ å…¥æ‚¨çš„æ”¶è—ï¼',
        'loading_data': 'æ­£åœ¨åŠ è¼‰ {} çš„æ•¸æ“š...',
        'no_data': '{} æ²’æœ‰å¯ç”¨æ•¸æ“šã€‚è«‹æª¢æŸ¥è‚¡ç¥¨ä»£ç¢¼ã€‚',
        'error_fetching': 'ç²å– {} æ•¸æ“šæ™‚å‡ºéŒ¯ï¼š{}',
        'current_price': 'ç•¶å‰åƒ¹æ ¼',
        'change': 'æ¼²è·Œ',
        'pct_change': 'æ¼²è·Œå¹…',
        'pct_change_period': 'è‡ªæ™‚æœŸé–‹å§‹ä»¥ä¾†çš„ç™¾åˆ†æ¯”è®ŠåŒ–',
        'price_with_indicators': '{} åƒ¹æ ¼èˆ‡æŒ‡æ¨™',
        'volume': 'æˆäº¤é‡',
        'select_stock': 'é¸æ“‡è‚¡ç¥¨é€²è¡ŒæŠ€è¡“åˆ†æ',
        'download': 'ä¸‹è¼‰ {} æ•¸æ“šç‚ºCSV',
        'download_all': 'ä¸‹è¼‰æ‰€æœ‰è‚¡ç¥¨æ•¸æ“šç‚ºCSV',
        'enter_to_start': 'åœ¨å´é‚Šæ¬„è¼¸å…¥è‚¡ç¥¨ä»£ç¢¼ä»¥é–‹å§‹ã€‚',
        'valid_symbol': 'è«‹è¼¸å…¥è‡³å°‘ä¸€å€‹æœ‰æ•ˆçš„è‚¡ç¥¨ä»£ç¢¼ã€‚',
        'compare_stocks': 'è‚¡ç¥¨åƒ¹æ ¼æ¯”è¼ƒ',
        'date': 'æ—¥æœŸ',
        'price_usd': 'åƒ¹æ ¼ï¼ˆç¾å…ƒï¼‰',
        'stocks': 'è‚¡ç¥¨',
        'financial_comparison': 'è²¡å‹™æ•¸æ“šæ¯”è¼ƒ',
        'company_name': 'å…¬å¸åç¨±',
        'market_cap': 'å¸‚å€¼',
        'pe_ratio': 'å¸‚ç›ˆç‡',
        'forward_pe': 'é æœŸå¸‚ç›ˆç‡',
        'peg_ratio': 'PEGæ¯”ç‡',
        'dividend_yield': 'è‚¡æ¯æ”¶ç›Šç‡ (%)',
        'week_high': '52é€±æœ€é«˜åƒ¹',
        'week_low': '52é€±æœ€ä½åƒ¹',
        'day_ma_50': '50æ—¥ç§»å‹•å¹³å‡ç·š',
        'day_ma_200': '200æ—¥ç§»å‹•å¹³å‡ç·š',
        'revenue': 'ç‡Ÿæ”¶',
        'profit_margin': 'åˆ©æ½¤ç‡ (%)',
        'roe': 'è‚¡æœ¬å›å ±ç‡ (%)',
        'roa': 'è³‡ç”¢å›å ±ç‡ (%)',
        'total_debt': 'ç¸½å‚µå‹™',
        'total_cash': 'ç¸½ç¾é‡‘',
        'free_cash_flow': 'è‡ªç”±ç¾é‡‘æµ',
        'market_selection': 'é¸æ“‡å¸‚å ´',
        'us_market': 'ç¾åœ‹è‚¡å¸‚',
        'tw_market': 'å°ç£è‚¡å¸‚',
        'currency_usd': 'ç¾å…ƒ',
        'currency_twd': 'æ–°å°å¹£',
        'price_currency': 'åƒ¹æ ¼ ({})',
        'stock_market': 'è‚¡ç¥¨å¸‚å ´',
        'download_data': 'ä¸‹è¼‰æ•¸æ“š',
        'loading': 'æ­£åœ¨è®€å–...',
        'days': 'å¤©',
        'weeks': 'é€±',
        'months': 'å€‹æœˆ',
        'years': 'å¹´',
        # AI Price Prediction
        'predictions': 'AIåƒ¹æ ¼é æ¸¬',
        'prediction_title': 'è‚¡ç¥¨åƒ¹æ ¼é æ¸¬',
        'prediction_intro': 'åŸºæ–¼AIçš„æœªä¾†30å¤©åƒ¹æ ¼é æ¸¬',
        'predict_button': 'ç”Ÿæˆé æ¸¬',
        'prediction_loading': 'æ­£åœ¨ç”Ÿæˆé æ¸¬ï¼Œè«‹ç¨å€™...',
        'prediction_error': 'ç”Ÿæˆé æ¸¬æ™‚å‡ºéŒ¯ï¼š{}',
        'predicted_price': 'é æ¸¬åƒ¹æ ¼ï¼ˆ30å¤©ï¼‰',
        'predicted_change': 'é æ¸¬è®ŠåŒ–',
        'prediction_confidence': 'å¯ä¿¡åº¦è©•åˆ†',
        'predicted_trend': 'é æ¸¬è¶¨å‹¢',
        'trend_up': 'ä¸Šæ¼² â†‘',
        'trend_down': 'ä¸‹è·Œ â†“',
        'trend_sideways': 'ç›¤æ•´ â†’',
        # Portfolio
        'portfolio': 'æŠ•è³‡çµ„åˆ',
        'portfolio_dashboard': 'æŠ•è³‡çµ„åˆå„€è¡¨æ¿',
        'my_portfolios': 'æˆ‘çš„æŠ•è³‡çµ„åˆ',
        'create_portfolio': 'å‰µå»ºæ–°æŠ•è³‡çµ„åˆ',
        'portfolio_name': 'æŠ•è³‡çµ„åˆåç¨±',
        'portfolio_description': 'æè¿°ï¼ˆå¯é¸ï¼‰',
        'create': 'å‰µå»º',
        'delete': 'åˆªé™¤',
        'view': 'æŸ¥çœ‹',
        'portfolio_details': 'æŠ•è³‡çµ„åˆè©³æƒ…',
        'add_stock': 'æ·»åŠ è‚¡ç¥¨',
        'edit_stock': 'ç·¨è¼¯è‚¡ç¥¨',
        'remove_stock': 'ç§»é™¤è‚¡ç¥¨',
        'shares': 'è‚¡æ•¸',
        'purchase_price': 'è³¼è²·åƒ¹æ ¼',
        'purchase_date': 'è³¼è²·æ—¥æœŸ',
        'notes': 'å‚™è¨»',
        'save': 'ä¿å­˜',
        'cancel': 'å–æ¶ˆ',
        'current_holdings': 'ç•¶å‰æŒæœ‰',
        'symbol': 'ä»£ç¢¼',
        'quantity': 'æ•¸é‡',
        'market_value': 'å¸‚å ´åƒ¹å€¼',
        'profit_loss': 'ç›ˆè™§',
        'profit_loss_percent': 'ç›ˆè™§ %',
        'total_value': 'æŠ•è³‡çµ„åˆç¸½åƒ¹å€¼',
        'total_cost': 'ç¸½æˆæœ¬',
        'total_profit_loss': 'ç¸½ç›ˆè™§',
        'allocation': 'æŠ•è³‡çµ„åˆåˆ†é…',
        'back_to_portfolios': 'è¿”å›æŠ•è³‡çµ„åˆåˆ—è¡¨',
        'no_portfolios': 'æ‚¨å°šæœªå‰µå»ºä»»ä½•æŠ•è³‡çµ„åˆã€‚',
        'no_stocks': 'æ­¤æŠ•è³‡çµ„åˆä¸­æ²’æœ‰è‚¡ç¥¨ã€‚æ·»åŠ ä¸€äº›è‚¡ç¥¨ä»¥é–‹å§‹ã€‚',
        'confirm_delete': 'æ‚¨ç¢ºå®šè¦åˆªé™¤æ­¤æŠ•è³‡çµ„åˆå—ï¼Ÿ',
        'yes': 'æ˜¯',
        'no': 'å¦',
    }
}

def get_translation(key, language='en'):
    """
    Get the translation for a specific key in the specified language
    
    Parameters:
        key (str): The translation key
        language (str): The language code (default: 'en')
        
    Returns:
        str: The translated text, or the key itself if translation not found
    """
    if language not in TRANSLATIONS:
        language = 'en'  # Default to English if language not supported
        
    if key not in TRANSLATIONS[language]:
        # Return the English version if key not found in specified language
        return TRANSLATIONS['en'].get(key, key)
        
    return TRANSLATIONS[language][key]